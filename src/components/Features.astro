---
import WireframeIllustration from './WireframeIllustration.astro';
---

<section class="features" aria-labelledby="features-title">
  <div class="wrap">
    <div class="feature-card" data-flip="false">
      <div class="feature-copy">
        <p class="eyebrow">Replicate</p>
        <p>
          Even if Shale can't handle something alone, she's never alone when
          she's with her clone. The clone mirrors her movements, and even the act
          of splitting into two can provide some benefits. Place a clone on a
          switch to keep it open, split mid-jump for extra jump height, double
          your firepower against enemies, and explore multiple areas
          simultaneously.
        </p>
      </div>
      <div class="feature-art">
        <WireframeIllustration />
      </div>
    </div>

    <div class="feature-card" data-flip="true">
      <div class="feature-copy">
        <p class="eyebrow">Weaponry</p>
        <p>
          Use tools you find in the labyrinth to help with solving puzzles. The
          Heart of Siracus can freeze enemies in place, letting you create your
          own platforms. The Rocket Launcher launches characters that its
          missiles hit, including yourself or your clone.
        </p>
      </div>
      <div class="feature-art">
        <WireframeIllustration />
      </div>
    </div>

    <div class="feature-card" data-flip="false">
      <div class="feature-copy">
        <p class="eyebrow">Explore</p>
        <p>
          Find logbooks and read the history of the Chasm, the Aether lingering
          in its air, and the doomed world surrounding it. Even in a bleak world,
          the mistakes of the past need not be the future.
        </p>
      </div>
      <div class="feature-art">
        <WireframeIllustration />
      </div>
    </div>
  </div>

  <style>
  :global(:root) {
    --feature-gradient: linear-gradient(135deg, rgba(61,209,193,0.15), rgba(255,127,80,0.12));
  }

  .features {
    display: flex;
    flex-direction: column;
    gap: 2.25rem;
    padding: 3rem 1.25rem 1rem;
  }

  .wrap {
    width: 100%;
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2.25rem;
  }

  .feature-card {
    width: 100%;
    padding: clamp(2rem, 3vw, 3rem);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 2rem;
    align-items: center;
    box-shadow: 0 45px 80px rgba(0,0,0,0.65);
    overflow: hidden;
  }

  .feature-card[data-flip="true"] {
    direction: rtl;
  }

  .feature-card[data-flip="true"] .feature-copy {
    text-align: right;
  }

  .feature-card[data-flip="true"] .feature-art {
    justify-self: flex-end;
  }

  .feature-copy {
    display: flex;
    flex-direction: column;
    gap: 0.85rem;
    color: #f2f6ff;
  }

  .feature-copy h2 {
    margin: 0;
    font-size: clamp(2.1rem, 4vw, 2.6rem);
  }

  .feature-copy p {
    margin: 0;
    color: var(--muted);
    font-size: 1.05rem;
    line-height: 1.6;
  }

  .feature-art {
    justify-self: center;
    align-self: center;
  }

  .eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.3em;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.7);
  }

  @media (max-width: 900px) {
    .feature-card {
      grid-template-columns: 1fr;
      text-align: left;
      direction: ltr;
    }
  }
  </style>
</section>
